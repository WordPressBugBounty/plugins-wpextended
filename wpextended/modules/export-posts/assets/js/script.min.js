!function(){const e=window.wpextendedExportPosts||{},t=e.is_block_editor||!1,o=e.i18n||{},r=(e,t)=>o[e]||t,n=(t,o)=>{const r=new URLSearchParams({action:"wpextended_export_posts",export_type:o,post_id:t,wpextended_nonce:e.nonce,_wp_http_referer:window.location.href});return`${e.admin_url}?${r.toString()}`};class s{constructor(){this.container=jQuery(".wpextended-export-posts-container"),this.selectElement=this.container.find(".wpextended-export-posts__select"),this.exportButton=this.container.find(".wpextended-export-posts__button"),this.initEvents()}initEvents(){this.exportButton.on("click",(e=>{e.preventDefault(),this.handleExportClick()}))}handleExportClick(){const t=this.selectElement.val();if(!t)return void window.notify.error(r("selectExportType","Please select an export type"));const o=e.current.post_id;window.confirm(r("confirmExport","Are you sure you want to export this post?"))&&(this.exportButton.prop("disabled",!0).text(r("exporting","Exporting...")),window.location.href=n(o,t),setTimeout((()=>{this.selectElement.val(""),this.exportButton.prop("disabled",!1).text(r("exportButton","Export"))}),1e3))}}jQuery(document).ready((()=>{t?(()=>{if("undefined"==typeof wp)return void console.error("WordPress not found");const{registerPlugin:t}=wp.plugins,{PluginPostStatusInfo:o}=wp.editPost||{},{SelectControl:s}=wp.components,{createElement:i}=wp.element,{select:p,dispatch:l}=wp.data,a=e=>{if(!e)return;if(!window.confirm(r("confirmExport","Are you sure you want to export this post?")))return;const t=p("core/editor").getCurrentPostId();window.location.href=n(t,e)},c=()=>{try{const t=(()=>{const t=e.export_types||[];return[{value:"",label:r("selectExportType","Select Type")},...t.map((e=>({value:e,label:e.toUpperCase()})))]})();if(!t.length)return null;const o=r("exportLabel","Export"),n=r("ariaLabel","Export post");return i("div",{className:"editor-post-panel__row"},i("span",{className:"editor-post-panel__row-label"},o),i("div",{className:"editor-post-panel__row-control"},i(s,{value:"",options:t,onChange:a,"aria-label":n})))}catch(e){return console.error("Error rendering ExportPostsControl:",e),null}},d=()=>i(o,{className:"wpextended-export-posts"},i(c));wp.domReady((()=>{if(p("core/editor")&&o)try{t("export-posts",{render:d,icon:"download"})}catch(e){console.error("Error registering export-posts plugin:",e)}else console.warn("Required components for ExportPosts not available")}))})():new s}))}();