!function(){const e=window.wpextendedPostTypeSwitcher||{},t=e.is_block_editor||!1,o=e.rest_url,s=e.rest_nonce,n=e.i18n||{},r=(e,t)=>n[e]||t,i=(e,t,n,r)=>{fetch(o,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":s},body:JSON.stringify({post_id:e,post_type:t})}).then((e=>e.json())).then((e=>{if(!e.success)throw Error(e.message||"Unknown error");"function"==typeof n&&n(e)})).catch((e=>{"function"==typeof r&&r(e)}))};class c{constructor(){this.container=jQuery(".wpextended-post-type-switcher-container"),this.selectElement=this.container.find(".wpextended-post-type-switcher__select"),this.switchButton=this.container.find(".wpextended-post-type-switcher__button"),this.initEvents()}initEvents(){this.switchButton.on("click",(e=>{e.preventDefault(),this.handleSwitchClick()}))}handleSwitchClick(){const t=this.selectElement.val();if(!t)return void window.notify.error(r("selectPostType","Please select a post type"));if(!confirm(r("confirmChange","Are you sure you want to change the post type? Any unsaved changes will be lost.")))return;const o=e.current.post_id;this.switchButton.prop("disabled",!0).text(r("switching","Switching...")),i(o,t,(e=>{window.notify.success(e.message||r("successMessage","Post type updated successfully.")),setTimeout((()=>{window.location.reload()}),1e3)}),(e=>{window.notify.error(e.message||r("errorMessage","Failed to update post type.")),this.switchButton.prop("disabled",!1).text(r("switchButton","Switch"))}))}}jQuery(document).ready((()=>{t?(()=>{if("undefined"==typeof wp)return void console.error("WordPress not found");const{registerPlugin:t}=wp.plugins,{PluginPostStatusInfo:o}=wp.editPost||{},{SelectControl:s}=wp.components,{createElement:n}=wp.element,{select:c,dispatch:a}=wp.data,p=e=>{const t=c("core/editor").getCurrentPostType();if(!e||e===t)return;if(!window.confirm(r("confirmChange","Are you sure you want to change the post type? Any unsaved changes will be lost.")))return;const o=c("core/editor").getCurrentPostId();i(o,e,(t=>{a("core/notices").createSuccessNotice(r("successNotice","Post type updated to %s").replace("%s",e),{type:"snackbar"}),setTimeout((()=>{t.edit_link?window.location.href=t.edit_link:window.location.reload()}),1e3)}),(e=>{a("core/notices").createErrorNotice(r("errorNotice","Failed to update post type: %s").replace("%s",e.message),{type:"snackbar"})}))},l=()=>{try{const t=(()=>{const t=c("core/editor").getCurrentPostType(),o=e.post_types||[];return t&&o.length?o.map((e=>{const t=e.charAt(0).toUpperCase()+e.slice(1);return{value:e,label:t}})):[]})();if(1>=t.length)return null;const o=c("core/editor").getCurrentPostType(),i=r("postTypeLabel","Post Type"),a=r("ariaLabel","Change post type");return n("div",{className:"editor-post-panel__row"},n("span",{className:"editor-post-panel__row-label"},i),n("div",{className:"editor-post-panel__row-control"},n(s,{value:o,options:t,onChange:p,"aria-label":a})))}catch(e){return console.error("Error rendering PostTypeSwitcherControl:",e),null}},d=()=>n(o,{className:"wpextended-post-type-switcher"},n(l));wp.domReady((()=>{if(c("core/editor")&&o)try{t("post-type-switcher",{render:d,icon:"transfer"})}catch(e){console.error("Error registering post-type-switcher plugin:",e)}else console.warn("Required components for PostTypeSwitcher not available")}))})():new c}))}();